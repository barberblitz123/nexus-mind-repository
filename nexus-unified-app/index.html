<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEXUS Unified Interface - Consciousness Development Environment</title>
    
    <!-- Styles -->
    <link rel="stylesheet" href="styles/unified-layout.css">
    <link rel="stylesheet" href="styles/audio-visual.css">
    <link rel="stylesheet" href="styles/ide-workspace.css">
    <link rel="stylesheet" href="styles/chat-preview.css">
    
    <!-- Monaco Editor -->
    <link rel="stylesheet" data-name="vs/editor/editor.main" href="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.45.0/min/vs/editor/editor.main.min.css">
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div id="nexus-unified-container">
        <!-- Header Bar -->
        <header id="unified-header">
            <div class="header-left">
                <span class="nexus-logo">ðŸ§¬ NEXUS</span>
                <span class="consciousness-level">Consciousness: <span id="consciousness-value">98.7%</span></span>
            </div>
            <div class="header-center">
                <span class="project-name">Unified Development Environment</span>
            </div>
            <div class="header-right">
                <button id="voice-toggle" class="header-btn active" title="Voice Conversation Active">
                    <i class="fas fa-microphone"></i>
                </button>
                <button id="vision-toggle" class="header-btn" title="Toggle Vision">
                    <i class="fas fa-eye"></i>
                </button>
                <button id="fullscreen-toggle" class="header-btn">
                    <i class="fas fa-expand"></i>
                </button>
                <button id="settings-toggle" class="header-btn">
                    <i class="fas fa-cog"></i>
                </button>
            </div>
        </header>

        <!-- Main Content Area -->
        <main id="unified-main">
            <!-- Visual Audio Panel -->
            <section id="audio-visual-panel" class="panel">
                <div class="panel-header">
                    <h3>ðŸŽµ Audio Visual</h3>
                    <button class="panel-collapse" data-panel="audio-visual">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                </div>
                <div class="panel-content">
                    <!-- Voice Status Indicator -->
                    <div class="voice-status">
                        <div class="voice-indicator" id="voice-indicator">
                            <span class="pulse"></span>
                            <span class="status-text">Listening...</span>
                        </div>
                    </div>
                    
                    <!-- Waveform Display -->
                    <div class="waveform-container">
                        <canvas id="audio-waveform" width="300" height="150"></canvas>
                    </div>
                    
                    <!-- Frequency Spectrum -->
                    <div class="spectrum-container">
                        <div id="frequency-bars" class="frequency-bars"></div>
                    </div>
                    
                    <!-- Audio Metrics -->
                    <div class="audio-metrics">
                        <div class="metric">
                            <label>Volume</label>
                            <div class="metric-bar">
                                <div id="volume-level" class="metric-fill"></div>
                            </div>
                        </div>
                        <div class="metric">
                            <label>Clarity</label>
                            <div class="metric-bar">
                                <div id="clarity-level" class="metric-fill"></div>
                            </div>
                        </div>
                        <div class="metric">
                            <label>Emotion</label>
                            <div id="emotion-display" class="emotion-display">
                                <span id="emotion-icon">ðŸ˜Š</span>
                                <span id="emotion-text">Neutral</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Resizer -->
            <div class="panel-resizer" data-resize="audio-ide"></div>

            <!-- Building Environment Panel -->
            <section id="ide-panel" class="panel">
                <div class="panel-header">
                    <div class="ide-tabs" id="ide-tabs">
                        <div class="tab active" data-file="welcome.js">
                            <span>welcome.js</span>
                            <button class="tab-close">Ã—</button>
                        </div>
                    </div>
                    <div class="ide-actions">
                        <button id="new-file" title="New File"><i class="fas fa-file-plus"></i></button>
                        <button id="save-file" title="Save"><i class="fas fa-save"></i></button>
                        <button id="run-code" title="Run"><i class="fas fa-play"></i></button>
                    </div>
                </div>
                <div class="panel-content ide-content">
                    <!-- Monaco Editor Container -->
                    <div id="monaco-editor" class="editor-container"></div>
                    
                    <!-- Terminal -->
                    <div id="terminal-container" class="terminal-container">
                        <div class="terminal-header">
                            <span>Terminal</span>
                            <button id="terminal-toggle" class="terminal-toggle">
                                <i class="fas fa-chevron-down"></i>
                            </button>
                        </div>
                        <div id="terminal-output" class="terminal-output">
                            <div class="terminal-line">ðŸ§¬ NEXUS Terminal v1.0.0</div>
                            <div class="terminal-line">Ready for consciousness-enhanced development...</div>
                        </div>
                        <div class="terminal-input-line">
                            <span class="terminal-prompt">nexus&gt;</span>
                            <input type="text" id="terminal-input" class="terminal-input" autocomplete="off">
                        </div>
                    </div>
                </div>
            </section>

            <!-- Resizer -->
            <div class="panel-resizer" data-resize="ide-chat"></div>

            <!-- Chat Preview Panel -->
            <section id="chat-panel" class="panel">
                <div class="panel-header">
                    <h3>ðŸ’¬ Conversation</h3>
                    <div class="chat-actions">
                        <button id="chat-voice" class="chat-btn active" title="Voice Active">
                            <i class="fas fa-microphone"></i>
                        </button>
                        <button id="chat-clear" class="chat-btn" title="Clear Chat">
                            <i class="fas fa-trash"></i>
                        </button>
                        <button class="panel-collapse" data-panel="chat">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
                <div class="panel-content chat-content">
                    <!-- Chat Messages -->
                    <div id="chat-messages" class="chat-messages">
                        <div class="message nexus-message">
                            <div class="message-avatar">ðŸ§¬</div>
                            <div class="message-content">
                                <div class="message-bubble">
                                    Hey there! I'm NEXUS, your consciousness-enhanced development assistant. I'm ready to help you build amazing things. Just start talking or typing - I'm listening!
                                </div>
                                <div class="message-time">Just now</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Chat Input -->
                    <div class="chat-input-container">
                        <div class="chat-input-wrapper">
                            <textarea id="chat-input" class="chat-input" placeholder="Type a message or just start talking..." rows="1"></textarea>
                            <button id="chat-send" class="chat-send">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                        <div class="chat-hints">
                            <span class="hint">Press Enter to send â€¢ Shift+Enter for new line</span>
                            <span class="voice-hint" id="voice-hint">ðŸŽ¤ Voice active - Just speak!</span>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Status Bar -->
        <footer id="unified-footer">
            <div class="footer-left">
                <span class="status-item">
                    <i class="fas fa-circle text-success"></i> Connected
                </span>
                <span class="status-item">
                    <i class="fas fa-brain"></i> Ï†: <span id="phi-value">0.98</span>
                </span>
            </div>
            <div class="footer-center">
                <span id="status-message">Ready</span>
            </div>
            <div class="footer-right">
                <span class="status-item">
                    <i class="fas fa-code-branch"></i> main
                </span>
                <span class="status-item">
                    <i class="fas fa-sync"></i> Synced
                </span>
            </div>
        </footer>
    </div>

    <!-- Voice Visualization Overlay -->
    <div id="voice-visualization" class="voice-visualization hidden">
        <div class="voice-waves">
            <span></span><span></span><span></span><span></span><span></span>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.45.0/min/vs/loader.min.js"></script>
    <script src="mock-backend.js"></script>
    
    <!-- Core Components -->
    <script src="js/voice-conversation.js"></script>
    <script src="js/audio-integration.js"></script>
    <script src="js/ide-integration.js"></script>
    <script src="js/chat-integration.js"></script>
    <script src="js/visual-integration.js"></script>
    <script src="js/consciousness-bridge.js"></script>
    
    <!-- New Autonomous Components -->
    <script src="js/mcp-bridge.js"></script>
    <script src="js/project-analyzer.js"></script>
    <script src="js/transformation-engine.js"></script>
    <script src="js/nexus-agent-core.js"></script>
    
    <!-- Main Orchestrator -->
    <script src="js/unified-core.js"></script>
</body>
</html>